class User < ActiveRecord::Base
	has_many :events

	def entrance(time)
		if events.where('created_at > ? ', time).first.nil? 
		then "---"
		else events.where('created_at > ?', time).first.created_at.localtime.strftime("%H:%M:%S")
		end
         end


	def exit(time)
		if events.where('created_at > ? ', time).last.nil? 
		then "---"
		else 
			if ( events.where('created_at > ?', time).first.created_at.localtime == events.where('created_at > ?', time).last.created_at.localtime )
			then "---"
			else events.where('created_at > ?', time).last.created_at.localtime.strftime("%H:%M:%S")
			end
		end
         end
end
